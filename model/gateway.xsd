<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" attributeFormDefault="unqualified">

  <xs:simpleType name="defaultDecimal">
    <xs:restriction base="xs:decimal">
      <xs:totalDigits value="13" />
      <xs:minInclusive value="0"/>
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="empty">
    <xs:restriction base="xs:string">
      <xs:enumeration value="" />
	</xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="emptyDecimalAllowed">
	<xs:union memberTypes="defaultDecimal empty" />
  </xs:simpleType>

  <xs:simpleType name="emptyDoubleAllowed">
	<xs:union memberTypes="xs:double empty" />
  </xs:simpleType>

  <xs:simpleType name="surchargePercent">
    <xs:restriction base="xs:decimal">
      <xs:minInclusive value="0"/>
      <xs:maxExclusive value="1000"/>
      <xs:fractionDigits value="5" />
    </xs:restriction>
  </xs:simpleType>

  <xs:element name="ORDERID">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="24" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="TERMINALID">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="50" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="AMOUNT" type="xs:double" />
  <xs:element name="DATETIME">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="50" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
    <xs:element name="CREATIONDATE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="50" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="TRACKDATA">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="16" />
        <xs:maxLength value="256" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="APPLEPAYLOAD">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="128" />
        <xs:maxLength value="20480" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="ANDROIDPAYLOAD">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="128" />
        <xs:maxLength value="20480" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="GOOGLEPAYLOAD">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="128" />
        <xs:maxLength value="20480" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="CARDNUMBER">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="10" />
        <xs:maxLength value="40" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="MASKEDCARDNUMBER">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="12" />
        <xs:maxLength value="19" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:simpleType name="STOREDCREDENTIALTXTYPE">
  <xs:restriction base="xs:string">
    <xs:enumeration value="FIRST_TXN"/>
    <xs:enumeration value="SUBSEQUENT_MERCHANT_INITIATED_TXN"/>
    <xs:enumeration value="SUBSEQUENT_CARDHOLDER_INITIATED_TXN"/>
  </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="STOREDCREDENTIALUSE">
  <xs:restriction base="xs:string">
    <xs:enumeration value="UNSCHEDULED"/>
    <xs:enumeration value="INSTALLMENT"/>
    <xs:enumeration value="RECURRING"/>
  </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="BRANDTXIDENTIFIER">
    <xs:restriction base="xs:string">
      <xs:minLength value="0" />
      <xs:maxLength value="64" />
    </xs:restriction>
  </xs:simpleType>
  <xs:element name="CREDENTIALONFILE">
    <xs:complexType>
    <xs:sequence>
      <xs:element name="BRANDTXIDENTIFIER" type="BRANDTXIDENTIFIER" minOccurs="0"/>
      <xs:element name="ORIGINALBRANDTXIDENTIFIER" type="BRANDTXIDENTIFIER" minOccurs="0"/>
      <xs:element name="STOREDCREDENTIALTXTYPE" type="STOREDCREDENTIALTXTYPE" minOccurs="0"/>
      <xs:element name="STOREDCREDENTIALUSE" type="STOREDCREDENTIALUSE" minOccurs="0"/>
    </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="ENCRYPTEDTRACK">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="32" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="KSN">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="5" />
        <xs:maxLength value="20" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="FORMATID">
    <xs:simpleType>
      <xs:restriction base="xs:integer">
          <xs:enumeration value="1" />
          <xs:enumeration value="3" />
          <xs:enumeration value="7" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="PAYLOAD">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="177" />
        <xs:maxLength value="424" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="POSDEVICE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:enumeration value="IDTECH_SREDKEY"/>
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="CARDTYPE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="50" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="CARDEXPIRY">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:length value="4" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="CARDHOLDERNAME">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="0" />
        <xs:maxLength value="50" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="ACCOUNT_NAME">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="50" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="HASH">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="32" />
        <xs:maxLength value="128" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="CURRENCY">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:length value="3" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="AUTOREADY">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="1" />
        <xs:enumeration value="Y" />
        <xs:enumeration value="N" />
        <xs:enumeration value="C" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="EMAIL">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="50" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="CVV">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="3" />
        <xs:maxLength value="4" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="ISSUENO">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="2" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="ADDRESS1">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="0" />
        <xs:maxLength value="50" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="ADDRESS2">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="0" />
        <xs:maxLength value="50" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="POSTCODE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="50" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="BILLTOFIRSTNAME">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="60" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="BILLTOLASTNAME">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="60" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="AVSONLY">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="1" />
        <xs:enumeration value="Y" />
        <xs:enumeration value="N" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="DESCRIPTION">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="1024" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="XID">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="50" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="CAVV">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="50" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="THREEDS_PROTOCOL_VERSION">
    <xs:simpleType>
      <xs:restriction base="xs:integer">
        <xs:enumeration value="1"/>
        <xs:enumeration value="2"/>
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="DS_TRANS_ID">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1"/>
        <xs:maxLength value="36"/>
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="MPIREF">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="20" />
        <xs:maxLength value="20" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="MERCHANTREF">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="48" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="CARDREFERENCE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="0" />
        <xs:maxLength value="40" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="MOBILENUMBER">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="10" />
        <xs:maxLength value="20" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <!-- The type of terminal used for the transaction
	     1 = MOTO (Mail Order/Telephone Order)
	     2 = Internet (Card Not Present automatic transaction
             3 = Card Holder Present -->
    <xs:element name="TERMINALTYPE">
    <xs:simpleType>
      <xs:restriction base="xs:int">
        <xs:enumeration value="1" />
        <xs:enumeration value="2" />
        <xs:enumeration value="3" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <!-- The transaction type
		0 = not applicable
		1 = Single transaction
		2 = Recurring transaction
		3 = Installment payment
		4 = MoTo (To) transaction
		5 = Fully authenticated transaction 3D Secure txn
		6 = The merchant attempted to authenticate the cardholder, but the cardholder cannot or does not participate in 3D-Secure.
		7 = Transaction when payment data was transmitted using SSL encryption, or Channel Encrypted
		8 = Transaction in the clear, or Non Secure
		9 = Mo transaction
  -->
    <xs:element name="TRANSACTIONTYPE">
    <xs:simpleType>
      <xs:restriction base="xs:int">
        <xs:enumeration value="0" />
        <xs:enumeration value="1" />
        <xs:enumeration value="2" />
        <xs:enumeration value="3" />
        <xs:enumeration value="4" />
        <xs:enumeration value="5" />
        <xs:enumeration value="6" />
        <xs:enumeration value="7" />
        <xs:enumeration value="8" />
        <xs:enumeration value="9" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="DEVICEID">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="64" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="PHONE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="6" />
        <xs:maxLength value="20" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="COUNTRY">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="2" />
        <xs:maxLength value="2" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="CITY">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="128" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="REGION">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="128" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="IPADDRESS">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="7" />
        <xs:maxLength value="15" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:simpleType name="UID">
      <xs:restriction base="xs:string">
        <xs:minLength value="10" />
        <xs:maxLength value="10" />
      </xs:restriction>
    </xs:simpleType>
  <xs:element name="UNIQUEREF" type="UID" />
  <xs:element name="DECLINEDREFUNDUNIQUEREF" type="UID" />
  <xs:element name="DECLINEDREFUNDORDERID">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="24" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="SIGNATURE">
      <xs:simpleType>
          <xs:restriction base="xs:string">
              <xs:minLength value="4"/>
              <xs:maxLength value="1600"/>
          </xs:restriction>
      </xs:simpleType>
  </xs:element>
  <xs:element name="CUSTOMFIELD">
      <xs:complexType>
        <xs:simpleContent>
          <xs:extension base="xs:string">
            <xs:attribute name="NAME" type="xs:string" use="required"/>
          </xs:extension>
        </xs:simpleContent>
      </xs:complexType>
  </xs:element>
  <xs:element name="ADDITIONAL_FIELD">
    <xs:complexType>
      <xs:simpleContent>
        <xs:extension base="xs:string">
          <xs:attribute name="NAME" type="xs:string"/>
        </xs:extension>
      </xs:simpleContent>
    </xs:complexType>
  </xs:element>
  <xs:element name="FRAUDREVIEWSESSIONID">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="128" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="FRAUDREVIEWSTATUS">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="0" />
        <xs:maxLength value="16" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="FRAUDREVIEWSCORE">
    <xs:simpleType>
      <xs:restriction base="xs:integer">
        <xs:minInclusive value="-100"/>
        <xs:maxInclusive value="100"/>
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="FRAUDREVIEWREASONCODE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="0" />
        <xs:maxLength value="2048" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="FRAUDREVIEWRISKRATING">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="0" />
        <xs:maxLength value="16" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="LEVEL_2_DATA">
      <xs:complexType>
          <xs:sequence>
            <xs:element name="CUSTOMER_REF_NUMBER" minOccurs="0">
           	  <xs:simpleType>
			    <xs:restriction base="xs:string">
			      <xs:minLength value="0" />
			      <xs:maxLength value="48"/>
			    </xs:restriction>
			  </xs:simpleType>
            </xs:element>
            <xs:element name="TAX_AMOUNT" 
            	type="emptyDecimalAllowed" minOccurs="0" />
            <xs:element name="SHIPPING_ADDRESS" minOccurs="0">
            	<xs:complexType>
            		<xs:sequence>
						<xs:element name="FULL_NAME" minOccurs="0">
						  <xs:simpleType>
							<xs:restriction base="xs:string">
							  <xs:minLength value="0" />
							  <xs:maxLength value="50" />
							</xs:restriction>
						  </xs:simpleType>
						</xs:element>
            			<xs:element ref="ADDRESS1" minOccurs="0"/>
						<xs:element ref="ADDRESS2" minOccurs="0"/>
						<xs:element ref="CITY" minOccurs="0"/>
						<xs:element ref="REGION" minOccurs="0"/>
						<xs:element ref="POSTCODE" minOccurs="0"/>
						<xs:element ref="COUNTRY" minOccurs="0"/>
            		</xs:sequence>
            	</xs:complexType>
            </xs:element>
          </xs:sequence>
      </xs:complexType>
  </xs:element>

  <xs:element name="LEVEL_3_DATA">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="SUMMARY" minOccurs="0">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="TOTAL_DISCOUNT_AMOUNT" 
              	type="emptyDecimalAllowed" minOccurs="0"/>
              <xs:element name="TOTAL_FREIGHT_AMOUNT" 
              	type="emptyDecimalAllowed" minOccurs="0"/>
              <xs:element name="TOTAL_DUTY_AMOUNT" 
              	type="emptyDecimalAllowed" minOccurs="0"/>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element name="LINE_ITEMS" minOccurs="0">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="LINE_ITEM" minOccurs="0" maxOccurs="unbounded">
                <xs:complexType>
                  <xs:sequence>
                    <xs:element name="COMMODITY_CODE" minOccurs="0">
                      <xs:simpleType>
                        <xs:restriction base="xs:string">
                          <xs:minLength value="0" />
                          <xs:maxLength value="45"/>
                        </xs:restriction>
                      </xs:simpleType>
                    </xs:element>
                    <xs:element name="PRODUCT_CODE" minOccurs="0">
                      <xs:simpleType>
                        <xs:restriction base="xs:string">
                          <xs:minLength value="0" />
                          <xs:maxLength value="45"/>
                        </xs:restriction>
                      </xs:simpleType>
                    </xs:element>
                    <xs:element name="DESCRIPTION" minOccurs="0">
                      <xs:simpleType>
                        <xs:restriction base="xs:string">
                          <xs:minLength value="0" />
                          <xs:maxLength value="250"/>
                        </xs:restriction>
                      </xs:simpleType>
                    </xs:element>
                    <xs:element name="QUANTITY" type="xs:double" />
                    <xs:element name="UNIT_OF_MEASURE" minOccurs="0">
                      <xs:simpleType>
                        <xs:restriction base="xs:string">
                          <xs:minLength value="0" />
                          <xs:maxLength value="45"/>
                        </xs:restriction>
                      </xs:simpleType>
                    </xs:element>
					<xs:element name="UNIT_PRICE">
                      <xs:simpleType>
                        <xs:restriction base="xs:decimal">
                          <xs:totalDigits value="13" />
                          <xs:minInclusive value="0"/>
                        </xs:restriction>
                      </xs:simpleType>
                    </xs:element>
                    <xs:element name="DISCOUNT_RATE" minOccurs="0">
                      <xs:simpleType>
                        <xs:restriction base="xs:double">
                          <xs:minInclusive value="0"/>
                          <xs:maxInclusive value="100"/>
                        </xs:restriction>
                      </xs:simpleType>
                    </xs:element>
                    <xs:element name="TAX_RATE" minOccurs="0">
                      <xs:simpleType>
                        <xs:restriction base="xs:double">
                          <xs:minInclusive value="0"/>
                          <xs:maxInclusive value="100"/>
                        </xs:restriction>
                      </xs:simpleType>
                    </xs:element>
                    <xs:element name="TOTAL_AMOUNT" type="emptyDecimalAllowed" minOccurs="0"/>
                  </xs:sequence>
                </xs:complexType>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  
  <xs:element name="ACCOUNT_NUMBER">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="4" />
        <xs:maxLength value="17" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="ACCOUNT_TYPE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:enumeration value="CHECKING"/>
        <xs:enumeration value="SAVINGS"/>
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="SEC_CODE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:enumeration value="WEB" />
        <xs:enumeration value="TEL" />
        <xs:enumeration value="CCD" />
        <xs:enumeration value="PPD" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="ROUTING_NUMBER">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="9" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="BSB_NUMBER">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="3" />
        <xs:maxLength value="14" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="DEBIT_DATE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="10" />
        <xs:maxLength value="10" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="CHECK_NUMBER">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="17" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="DL_STATE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:maxLength value="2" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="DL_NUMBER">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:maxLength value="30" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="ENHANCED_DATA_TEMPLATE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:maxLength value="100" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  
  <xs:element name="PAYMENT">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="ORDERID" />
        <xs:element ref="TERMINALID" />
        <xs:element ref="AMOUNT" />
        <xs:element ref="DATETIME" />
        <xs:choice minOccurs="1" maxOccurs="1">
            <xs:element ref="TRACKDATA" />
            <xs:element ref="CARDNUMBER" />
            <xs:element ref="DUKPTCARDDETAILS"/>
            <xs:element ref="APPLEPAYLOAD"/>
            <xs:element ref="ANDROIDPAYLOAD"/>
            <xs:element ref="GOOGLEPAYLOAD"/>
            <xs:element ref="ENCRYPTEDPAYLOAD"/>
        </xs:choice>
        <xs:element ref="CARDTYPE" />
        <xs:element ref="CARDEXPIRY" minOccurs="0" />
        <xs:element ref="CARDHOLDERNAME" minOccurs="0" />
        <xs:element ref="HASH" />
        <xs:element ref="CURRENCY" />
        <xs:element ref="FOREIGNCURRENCYINFORMATION" minOccurs="0" />
        <xs:element ref="TERMINALTYPE" />
        <xs:element ref="TRANSACTIONTYPE" />
        <xs:element ref="AUTOREADY" minOccurs="0" />
        <xs:element ref="EMAIL" minOccurs="0" />
        <xs:element ref="CVV" minOccurs="0" />
        <xs:element ref="ISSUENO" minOccurs="0" />
        <xs:element ref="ADDRESS1" minOccurs="0" />
        <xs:element ref="ADDRESS2" minOccurs="0" />
        <xs:element ref="POSTCODE" minOccurs="0" />
        <xs:element ref="BILLTOFIRSTNAME" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="BILLTOLASTNAME" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="AVSONLY" minOccurs="0" />
        <xs:element ref="DESCRIPTION" minOccurs="0" />
        <xs:element ref="XID" minOccurs="0" />
        <xs:element ref="CAVV" minOccurs="0" />
        <xs:element ref="THREEDS_PROTOCOL_VERSION" minOccurs="0" />
        <xs:element ref="DS_TRANS_ID" minOccurs="0" />
        <xs:element ref="MPIREF" minOccurs="0"/>
        <xs:element ref="MOBILENUMBER" minOccurs="0"/>
        <xs:element ref="DEVICEID" minOccurs="0"/>
        <xs:element ref="PHONE" minOccurs="0"/>
        <xs:element ref="CITY" minOccurs="0"/>
        <xs:element ref="REGION" minOccurs="0"/>
        <xs:element ref="COUNTRY" minOccurs="0"/>
        <xs:element ref="IPADDRESS" minOccurs="0"/>
        <xs:element ref="SIGNATURE" minOccurs="0"/>
        <xs:element ref="CUSTOMFIELD" minOccurs="0" maxOccurs="30"/>
        <xs:element name="RECURRINGTXNREF" type="UID" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="LEVEL_2_DATA" minOccurs="0" />
        <xs:element ref="LEVEL_3_DATA" minOccurs="0" />
        <xs:element ref="ENHANCED_DATA_TEMPLATE" minOccurs="0" />
        <xs:element ref="FRAUDREVIEWSESSIONID" minOccurs="0" maxOccurs="1" />
        <xs:element ref="CREDENTIALONFILE" minOccurs="0" />
        <xs:element name="BYPASS_SURCHARGE" type="xs:boolean" minOccurs="0" maxOccurs="1"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="OFFLINEPAYMENT">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="ORDERID" />
        <xs:element ref="TERMINALID" />
        <xs:element ref="AMOUNT" />
        <xs:element ref="DATETIME" />
        <xs:choice>
          <xs:element ref="TRACKDATA" />
          <xs:element ref="CARDNUMBER" />
          <xs:element ref="DUKPTCARDDETAILS"/> 
          <xs:element ref="ENCRYPTEDPAYLOAD"/>
        </xs:choice>
        <xs:element ref="CARDTYPE" />
        <xs:element ref="CARDEXPIRY" minOccurs="0" />
        <xs:element ref="CARDHOLDERNAME" minOccurs="0" />
        <xs:element ref="HASH" />
        <xs:element ref="CURRENCY" />
        <xs:element ref="FOREIGNCURRENCYINFORMATION" minOccurs="0" />
        <xs:element ref="TERMINALTYPE" />
        <xs:element ref="TRANSACTIONTYPE" />
        <xs:element ref="AUTOREADY" minOccurs="0" />
        <xs:element ref="EMAIL" minOccurs="0" />
        <xs:element ref="ADDRESS1" minOccurs="0" />
        <xs:element ref="ADDRESS2" minOccurs="0" />
        <xs:element ref="POSTCODE" minOccurs="0" />
        <xs:element ref="BILLTOFIRSTNAME" minOccurs="0" />
        <xs:element ref="BILLTOLASTNAME" minOccurs="0" />
        <xs:element ref="DESCRIPTION" minOccurs="0" />
        <xs:element ref="MOBILENUMBER" minOccurs="0"/>
        <xs:element ref="DEVICEID" minOccurs="0"/>
        <xs:element ref="PHONE" minOccurs="0"/>
        <xs:element ref="CITY" minOccurs="0"/>
        <xs:element ref="REGION" minOccurs="0"/>
        <xs:element ref="COUNTRY" minOccurs="0"/>
        <xs:element ref="IPADDRESS" minOccurs="0"/>
        <xs:element ref="SIGNATURE" minOccurs="0"/>
        <xs:element ref="CUSTOMFIELD" minOccurs="0" maxOccurs="30"/>
        <xs:element ref="LEVEL_2_DATA" minOccurs="0" />
        <xs:element ref="LEVEL_3_DATA" minOccurs="0" />
        <xs:element ref="ENHANCED_DATA_TEMPLATE" minOccurs="0" />
        <xs:element ref="APPROVALCODE" />
        <xs:element ref="CREDENTIALONFILE" minOccurs="0" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="PAYMENTACH">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="ORDERID" />
        <xs:element ref="TERMINALID" />
        <xs:element ref="AMOUNT" />
        <xs:element ref="CURRENCY" />
        <xs:element ref="DATETIME" />
        <xs:element ref="TERMINALTYPE" />
        <xs:element ref="ACH_SECURE"  minOccurs="0" />
        <xs:element ref="SEC_CODE" />
        <xs:element ref="ACCOUNT_TYPE" minOccurs="0" />
        <xs:element ref="ACCOUNT_NUMBER"/>
        <xs:element ref="ROUTING_NUMBER" minOccurs="0" />
        <xs:element ref="ACCOUNT_NAME" minOccurs="0" />
        <xs:element ref="CHECK_NUMBER" minOccurs="0" />
        <xs:element ref="ADDRESS1" minOccurs="0" />
        <xs:element ref="ADDRESS2" minOccurs="0" />
        <xs:element ref="CITY" minOccurs="0"/>
        <xs:element ref="REGION" minOccurs="0"/>
        <xs:element ref="POSTCODE" minOccurs="0" />
        <xs:element ref="COUNTRY" minOccurs="0"/>
        <xs:element ref="PHONE" minOccurs="0"/>
        <xs:element ref="IPADDRESS" minOccurs="0"/>
        <xs:element ref="EMAIL" minOccurs="0" />
        <xs:element ref="DESCRIPTION" minOccurs="0" />
        <xs:element ref="DL_STATE" minOccurs="0" />
        <xs:element ref="DL_NUMBER" minOccurs="0" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="PAYMENTDIRECTDEBIT">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="ORDERID" />
        <xs:element ref="TERMINALID" />
        <xs:element ref="AMOUNT" />
        <xs:element ref="CURRENCY" />
        <xs:element ref="DATETIME" />
        <xs:element ref="TERMINALTYPE" />
        <xs:element ref="DEBIT_DATE" />
        <xs:element ref="ACH_SECURE" minOccurs="0" />
        <xs:element ref="ACCOUNT_TYPE" minOccurs="0" />
        <xs:element ref="ACCOUNT_NUMBER"/>
        <xs:element ref="BSB_NUMBER" minOccurs="0" />
        <xs:element ref="ACCOUNT_NAME" minOccurs="0" />
        <xs:element ref="ADDRESS1" minOccurs="0" />
        <xs:element ref="ADDRESS2" minOccurs="0" />
        <xs:element ref="CITY" minOccurs="0"/>
        <xs:element ref="REGION" minOccurs="0"/>
        <xs:element ref="POSTCODE" minOccurs="0" />
        <xs:element ref="COUNTRY" minOccurs="0"/>
        <xs:element ref="PHONE" minOccurs="0"/>
        <xs:element ref="IPADDRESS" minOccurs="0"/>
        <xs:element ref="EMAIL" minOccurs="0" />
        <xs:element ref="DESCRIPTION" minOccurs="0" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="RESPONSECODE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="2" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="RESPONSETEXT">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="48" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="APPROVALCODE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="0" />
        <xs:maxLength value="20" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="BANKRESPONSECODE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="2" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="AUTHORIZEDAMOUNT" type="xs:double" />
  <xs:element name="SURCHARGE_FEE" type="xs:double" />
  <xs:element name="AVSRESPONSE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="0" />
        <xs:maxLength value="10" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="CVVRESPONSE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="0" />
        <xs:maxLength value="10" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="PAYMENTRESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="UNIQUEREF" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="RESPONSECODE" />
        <xs:element ref="RESPONSETEXT" />
        <xs:element ref="APPROVALCODE" />
        <xs:element ref="BANKRESPONSECODE" minOccurs="0"/>
        <xs:element ref="MASKEDCARDNUMBER" minOccurs="0"/>
        <xs:element ref="AUTHORIZEDAMOUNT" minOccurs="0" />
        <xs:element ref="SURCHARGE_FEE" minOccurs="0" />
        <xs:element ref="DATETIME" />
        <xs:element ref="AVSRESPONSE" minOccurs="0" />
        <xs:element ref="CVVRESPONSE" minOccurs="0" />
        <xs:element ref="PROCESSINGTERMINAL" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="CARDREFERENCE" minOccurs="0" />
        <xs:element ref="MERCHANTREF" minOccurs="0" />
        <xs:element ref="ADDITIONAL_FIELD" minOccurs="0" maxOccurs="30"/>
        <xs:element ref="FRAUDREVIEWRESPONSE" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="CREDENTIALONFILE" minOccurs="0" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="OFFLINEPAYMENTRESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="UNIQUEREF" minOccurs="0"/>
        <xs:element ref="RESPONSECODE" />
        <xs:element ref="RESPONSETEXT" />
        <xs:element ref="APPROVALCODE" />
        <xs:element ref="MASKEDCARDNUMBER" minOccurs="0"/>
        <xs:element ref="DATETIME" />
        <xs:element ref="PROCESSINGTERMINAL" minOccurs="0"/>
        <xs:element ref="CARDREFERENCE" minOccurs="0" />
        <xs:element ref="MERCHANTREF" minOccurs="0" />
        <xs:element ref="ADDITIONAL_FIELD" minOccurs="0" maxOccurs="30"/>
        <xs:element ref="CREDENTIALONFILE" minOccurs="0" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="PAYMENTACHRESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="UNIQUEREF" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="RESPONSECODE" />
        <xs:element ref="RESPONSETEXT" />
        <xs:element ref="APPROVALCODE" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="ERRORSTRING">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="0" />
        <xs:maxLength value="1024" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="ERRORCODE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="5" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="ERROR">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="ERRORCODE" minOccurs="0" />
        <xs:element ref="ERRORSTRING" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <!-- This should be used to identify who did the refund -->
  <xs:element name="OPERATOR">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="0" />
        <xs:maxLength value="128" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="REASON">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="0" />
        <xs:maxLength value="256" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="PAREFERENCENUMBER">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="0" />
        <xs:maxLength value="64" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="REFUND">
    <xs:complexType>
      <xs:sequence>
        <xs:choice minOccurs="1" maxOccurs="1">
            <xs:element ref="UNIQUEREF" />
            <xs:element ref="ORDERID" />
        </xs:choice>
        <xs:element ref="TERMINALID" />
        <xs:element ref="AMOUNT" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
        <xs:element ref="OPERATOR" />
        <xs:element ref="REASON" />
        <xs:element ref="AUTOREADY" minOccurs="0" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="REFUNDRESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="RESPONSECODE" />
        <xs:element ref="RESPONSETEXT" />
        <xs:choice minOccurs="1" maxOccurs="1">
            <xs:element ref="UNIQUEREF" />
            <xs:element ref="ORDERID" />
        </xs:choice>
        <xs:element ref="DATETIME" />
        <xs:element ref="PROCESSINGTERMINAL" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="ADDITIONAL_FIELD" minOccurs="0" maxOccurs="30"/>
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="CARDBIN">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="6" />
        <xs:maxLength value="12" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="BASEAMOUNT" type="xs:double" />
  <xs:element name="GETCARDCURRENCYRATE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="TERMINALID" />
        <xs:element ref="CARDBIN" />
        <xs:element ref="DATETIME" />
        <xs:element ref="BASEAMOUNT" minOccurs="0" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="TERMINALCURRENCY">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="3" />
        <xs:maxLength value="3" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="CARDCURRENCY">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="3" />
        <xs:maxLength value="3" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="CONVERSIONRATE" type="xs:double" />
  <xs:element name="EXCHANGERATESOURCENAME">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="0" />
        <xs:maxLength value="50" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <xs:element name="MARGINRATEPERCENTAGE" type="xs:double" />
  <xs:element name="COMMISSIONPERCENTAGE" type="xs:double" />
  <xs:element name="FOREIGNAMOUNT" type="xs:double" />
  <xs:element name="CARDCURRENCYRATERESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="TERMINALCURRENCY" />
        <xs:element ref="CARDCURRENCY" />
        <xs:element ref="CONVERSIONRATE" />
        <xs:element ref="DATETIME" />
        <xs:element ref="EXCHANGERATESOURCENAME" />
        <xs:element ref="MARGINRATEPERCENTAGE" />
        <xs:element ref="COMMISSIONPERCENTAGE" />
        <xs:element ref="FOREIGNAMOUNT" minOccurs="0" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="CARDAMOUNT" type="xs:double" />
  <xs:element name="FOREIGNCURRENCYINFORMATION">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="CARDCURRENCY" />
        <xs:element ref="CARDAMOUNT" />
        <xs:element ref="CONVERSIONRATE" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="DUKPTCARDDETAILS">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="ENCRYPTEDTRACK" />
        <xs:element ref="KSN" />
        <xs:element ref="FORMATID" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="ENCRYPTEDPAYLOAD">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="PAYLOAD" />
        <xs:element ref="POSDEVICE" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="FRAUDREVIEWRESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="FRAUDREVIEWSTATUS" minOccurs="0"/>
        <xs:element ref="FRAUDREVIEWRISKRATING" minOccurs="0"/>
        <xs:element ref="FRAUDREVIEWSCORE" minOccurs="0"/>
        <xs:element ref="FRAUDREVIEWREASONCODE" minOccurs="0"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="PREAUTH">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="ORDERID" />
        <xs:element ref="TERMINALID" />
        <xs:element ref="AMOUNT" />
        <xs:element ref="DATETIME" />
        <xs:choice>
            <xs:element ref="CARDNUMBER" />
        </xs:choice>
        <xs:element ref="CARDTYPE" />
        <xs:element ref="CARDEXPIRY" minOccurs="0" />
        <xs:element ref="CARDHOLDERNAME" minOccurs="0" />
        <xs:element ref="HASH" />
        <xs:element ref="CURRENCY" />
        <xs:element ref="FOREIGNCURRENCYINFORMATION" minOccurs="0" />
        <xs:element ref="TERMINALTYPE" />
        <xs:element ref="TRANSACTIONTYPE" />
        <xs:element ref="EMAIL" minOccurs="0" />
        <xs:element ref="CVV" minOccurs="0" />
        <xs:element ref="ISSUENO" minOccurs="0" />
        <xs:element ref="ADDRESS1" minOccurs="0" />
        <xs:element ref="ADDRESS2" minOccurs="0" />
        <xs:element ref="POSTCODE" minOccurs="0" />
        <xs:element ref="DESCRIPTION" minOccurs="0" />
        <xs:element ref="XID" minOccurs="0" />
        <xs:element ref="CAVV" minOccurs="0" />
        <xs:element ref="THREEDS_PROTOCOL_VERSION" minOccurs="0" />
        <xs:element ref="DS_TRANS_ID" minOccurs="0" />
        <xs:element ref="MPIREF" minOccurs="0"/>
        <xs:element ref="CITY" minOccurs="0"/>
        <xs:element ref="REGION" minOccurs="0"/>
        <xs:element ref="COUNTRY" minOccurs="0"/>
        <xs:element ref="IPADDRESS" minOccurs="0" />
        <xs:element ref="CUSTOMFIELD" minOccurs="0" maxOccurs="30"/>
        <xs:element name="RECURRINGTXNREF" type="UID" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="LEVEL_2_DATA" minOccurs="0" />
        <xs:element ref="LEVEL_3_DATA" minOccurs="0" />
        <xs:element ref="ENHANCED_DATA_TEMPLATE" minOccurs="0" />
        <xs:element ref="CREDENTIALONFILE" minOccurs="0" />
        <xs:element name="BYPASS_SURCHARGE" type="xs:boolean" minOccurs="0" maxOccurs="1"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="PREAUTHRESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="UNIQUEREF" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="RESPONSECODE" />
        <xs:element ref="RESPONSETEXT" />
        <xs:element ref="BANKRESPONSECODE" minOccurs="0"/>
        <xs:element ref="MASKEDCARDNUMBER" minOccurs="0"/>
        <xs:element ref="APPROVALCODE" />
        <xs:element ref="SURCHARGE_FEE" minOccurs="0" />
        <xs:element ref="DATETIME" />
        <xs:element ref="AVSRESPONSE" minOccurs="0" />
        <xs:element ref="CVVRESPONSE" minOccurs="0" />
        <xs:element ref="PROCESSINGTERMINAL" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="CARDREFERENCE" minOccurs="0" />
        <xs:element ref="MERCHANTREF" minOccurs="0" />
        <xs:element ref="ADDITIONAL_FIELD" minOccurs="0" maxOccurs="30"/>
        <xs:element ref="CREDENTIALONFILE" minOccurs="0" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="PREAUTHCOMPLETION">
    <xs:complexType>
      <xs:sequence>
        <xs:choice minOccurs="1" maxOccurs="1">
            <xs:element ref="UNIQUEREF" />
            <xs:element ref="ORDERID" />
        </xs:choice>
        <xs:element ref="TERMINALID" />
        <xs:element ref="AMOUNT" />
		<xs:element ref="FOREIGNCURRENCYINFORMATION" minOccurs="0" />
        <xs:element ref="DESCRIPTION" minOccurs="0" />
        <xs:element ref="DATETIME" />
        <xs:element ref="CVV" minOccurs="0" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="PREAUTHCOMPLETIONRESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="UNIQUEREF" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="RESPONSECODE" />
        <xs:element ref="RESPONSETEXT" />
        <xs:element ref="APPROVALCODE" />
        <xs:element ref="DATETIME" />
        <xs:element ref="AVSRESPONSE" minOccurs="0" />
        <xs:element ref="CVVRESPONSE" minOccurs="0" />
        <xs:element ref="PROCESSINGTERMINAL" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="DONTCHECKSECURITY">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="1" />
        <xs:enumeration value="Y" />
        <xs:enumeration value="N" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="SECURECARDREGISTRATION">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="TERMINALID" />
        <xs:element ref="DATETIME" />
        <xs:element ref="CARDNUMBER" />
        <xs:element ref="CARDEXPIRY" />
        <xs:element ref="CARDTYPE" />
        <xs:element ref="CARDHOLDERNAME" minOccurs="0"/>
        <xs:element ref="HASH" />
        <xs:element ref="DONTCHECKSECURITY" minOccurs="0" />
        <xs:element ref="CVV" minOccurs="0" />
        <xs:element ref="ADDRESS1" minOccurs="0" />
        <xs:element ref="POSTCODE" minOccurs="0" />
        <xs:element ref="ISSUENO" minOccurs="0" />
        <xs:element ref="PERMITTEDTERMINALS" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="CUSTOMFIELD" minOccurs="0" maxOccurs="3"/>
        <xs:element ref="EMAIL" minOccurs="0" />
        <xs:element ref="PHONE" minOccurs="0" />
        <xs:element ref="CREDENTIALONFILE" minOccurs="0" />
        <xs:element ref="XID" minOccurs="0" />
        <xs:element ref="CAVV" minOccurs="0" />
        <xs:element ref="THREEDS_PROTOCOL_VERSION" minOccurs="0" />
        <xs:element ref="DS_TRANS_ID" minOccurs="0" />
        <xs:element ref="TRANSACTIONTYPE" minOccurs="0" />
        <xs:element ref="MPIREF" minOccurs="0"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="SECURECARDREGISTRATIONRESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="CARDREFERENCE" />
        <xs:element ref="MASKEDCARDNUMBER" minOccurs="0"/>
        <xs:element ref="CREDENTIALONFILE" minOccurs="0" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="SECURECARDREMOVAL">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="CARDREFERENCE"/>
        <xs:element ref="TERMINALID" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="SECURECARDREMOVALRESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF"/>
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="SECURECARDUPDATE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="TERMINALID" />
        <xs:element ref="DATETIME" />
        <xs:element ref="CARDNUMBER" minOccurs="0" />
        <xs:element ref="CARDEXPIRY" minOccurs="0" />
        <xs:element ref="CARDTYPE" minOccurs="0"/>
        <xs:element ref="CARDHOLDERNAME" minOccurs="0" />
        <xs:element ref="HASH" />
        <xs:element ref="DONTCHECKSECURITY" minOccurs="0" />
        <xs:element ref="CVV" minOccurs="0" />
        <xs:element ref="ISSUENO" minOccurs="0" />
        <xs:element ref="PERMITTEDTERMINALS" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="CUSTOMFIELD" minOccurs="0" maxOccurs="3"/>
        <xs:element ref="EMAIL" minOccurs="0" />
        <xs:element ref="PHONE" minOccurs="0" />
        <xs:element ref="CREDENTIALONFILE" minOccurs="0" />
        <xs:element ref="XID" minOccurs="0" />
        <xs:element ref="CAVV" minOccurs="0" />
        <xs:element ref="THREEDS_PROTOCOL_VERSION" minOccurs="0" />
        <xs:element ref="DS_TRANS_ID" minOccurs="0" />
        <xs:element ref="TRANSACTIONTYPE" minOccurs="0"/>
        <xs:element ref="MPIREF" minOccurs="0"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="SECURECARDUPDATERESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="CARDREFERENCE" />
        <xs:element ref="MASKEDCARDNUMBER" minOccurs="0"/>
        <xs:element ref="CREDENTIALONFILE" minOccurs="0" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="SECURECARDSEARCH">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="TERMINALID" />
        <xs:element ref="PERMITTEDTERMINALSREQUIRED" minOccurs="0" />
        <xs:element ref="CREDENTIALONFILE" minOccurs="0" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="SECURECARDSEARCHRESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="CARDREFERENCE" />
        <xs:element ref="CARDTYPE" />
        <xs:element ref="CARDEXPIRY" />
        <xs:element ref="CARDHOLDERNAME" />
        <xs:element ref="PERMITTEDTERMINALS" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="MASKEDCARDNUMBER" minOccurs="0" />
        <xs:element ref="CREDENTIALONFILE" minOccurs="0" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="SECURE_CARD_ADVANCED_SEARCH">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" minOccurs="0"/>
        <xs:element ref="TERMINALID" />
        <xs:element ref="NAME" minOccurs="0"/>
        <xs:element ref="EMAIL" minOccurs="0" />
        <xs:element ref="PHONE" minOccurs="0" />
        <xs:element ref="CREATIONDATE" minOccurs="0" />
        <xs:element ref="PERMITTEDTERMINALSREQUIRED" minOccurs="0" />
        <xs:element ref="CREDENTIALONFILE" minOccurs="0" />
        <xs:element ref="DATETIME" />
        <xs:element ref="CUSTOMFIELD" minOccurs="0" maxOccurs="3"/>
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="SECURE_CARD_ADVANCED_SEARCH_RESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="SECURECARD" minOccurs="1" maxOccurs="unbounded"/>
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  
  <xs:element name="SECURECARD">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="CARDREFERENCE" />
        <xs:element ref="CARDTYPE" />
        <xs:element ref="CARDEXPIRY" />
        <xs:element ref="CARDHOLDERNAME" />
        <xs:element ref="PERMITTEDTERMINALS" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="MASKEDCARDNUMBER" minOccurs="0" />
        <xs:element ref="CREDENTIALONFILE" minOccurs="0" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  
  <xs:element name="NAME">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="0" />
        <xs:maxLength value="256" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="PERIODTYPE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:enumeration value="DAILY" />
        <xs:enumeration value="WEEKLY" />
        <xs:enumeration value="FORTNIGHTLY" />
        <xs:enumeration value="MONTHLY" />
        <xs:enumeration value="QUARTERLY" />
        <xs:enumeration value="YEARLY" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="LENGTH" type="xs:unsignedInt" />

  <xs:element name="SKIPPERIODCOUNT" type="xs:unsignedInt" />

  <xs:element name="RECURRINGAMOUNT" type="xs:double" />

  <xs:element name="INITIALAMOUNT" type="xs:double" />

  <xs:element name="TYPE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:enumeration value="AUTOMATIC" />
        <xs:enumeration value="MANUAL" />
        <xs:enumeration value="AUTOMATIC (WITHOUT AMOUNTS)" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="ONUPDATE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:enumeration value="CONTINUE" />
        <xs:enumeration value="UPDATE" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="ONDELETE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:enumeration value="CONTINUE" />
        <xs:enumeration value="CANCEL" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="ADDSTOREDSUBSCRIPTION">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="TERMINALID" />
        <xs:element ref="DATETIME" />
        <xs:element ref="NAME" />
        <xs:element ref="DESCRIPTION" minOccurs="0"/>
        <xs:element ref="PERIODTYPE" />
        <xs:element ref="LENGTH" />
        <xs:element ref="CURRENCY" />
        <xs:element ref="RECURRINGAMOUNT" minOccurs="0"/>
        <xs:element ref="INITIALAMOUNT" minOccurs="0"/>
        <xs:element ref="TYPE" />
        <xs:element ref="ONUPDATE" />
        <xs:element ref="ONDELETE" />
        <xs:element ref="HASH" />
        <xs:element ref="CUSTOMFIELD" minOccurs="0" maxOccurs="30"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="ADDSTOREDSUBSCRIPTIONRESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="UPDATESTOREDSUBSCRIPTION">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="TERMINALID" />
        <xs:element ref="DATETIME" />
        <xs:element ref="NAME" />
        <xs:element ref="DESCRIPTION" minOccurs="0"/>
        <xs:element ref="LENGTH" />
        <xs:element ref="CURRENCY" />
        <xs:element ref="RECURRINGAMOUNT" minOccurs="0"/>
        <xs:element ref="INITIALAMOUNT" minOccurs="0"/>
        <xs:element ref="TYPE" />
        <xs:element ref="ONUPDATE" />
        <xs:element ref="ONDELETE" />
        <xs:element ref="HASH" />
        <xs:element ref="CUSTOMFIELD" minOccurs="0" maxOccurs="30"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="UPDATESTOREDSUBSCRIPTIONRESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="DELETESTOREDSUBSCRIPTION">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="TERMINALID" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="DELETESTOREDSUBSCRIPTIONRESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="STOREDSUBSCRIPTIONREF">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="50" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="SECURECARDMERCHANTREF">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="50" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="SECUREACHACCOUNTMERCHANTREF">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="48" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="STARTDATE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="10" />
        <xs:maxLength value="10" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="ENDDATE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="10" />
        <xs:maxLength value="10" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="EDCCDECISION">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="1" />
        <xs:enumeration value="Y" />
        <xs:enumeration value="N" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
	
  <xs:element name="NEWSTOREDSUBSCRIPTIONINFO">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="NAME" />
        <xs:element ref="DESCRIPTION" />
        <xs:element ref="PERIODTYPE" />
        <xs:element ref="LENGTH" />
        <xs:element ref="CURRENCY" />
        <xs:element ref="RECURRINGAMOUNT" minOccurs="0"/>
        <xs:element ref="INITIALAMOUNT" minOccurs="0"/>
        <xs:element ref="TYPE" />
        <xs:element ref="ONUPDATE" />
        <xs:element ref="ONDELETE" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="ADDSUBSCRIPTION">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="TERMINALID" />
        <xs:element ref="STOREDSUBSCRIPTIONREF" minOccurs="0"/>
        <xs:element ref="SECURECARDMERCHANTREF" minOccurs="0"/>
        <xs:element ref="CARDREFERENCE" minOccurs="0"/>
        <xs:element ref="DATETIME" />
        <xs:element ref="RECURRINGAMOUNT" minOccurs="0" />
        <xs:element ref="INITIALAMOUNT" minOccurs="0"/>
        <xs:element ref="STARTDATE" />
        <xs:element ref="ENDDATE" minOccurs="0" />
        <xs:element ref="EDCCDECISION" minOccurs="0" />
        <xs:element ref="NEWSTOREDSUBSCRIPTIONINFO" minOccurs="0" />
        <xs:element ref="NOTIFICATIONLANGUAGE" minOccurs="0" />
        <xs:element ref="HASH" />
        <xs:element ref="CUSTOMFIELD" minOccurs="0" maxOccurs="30"/>
        <xs:element ref="LEVEL_2_DATA" minOccurs="0" />
        <xs:element ref="LEVEL_3_DATA" minOccurs="0" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="ADDSUBSCRIPTIONRESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="UPDATESUBSCRIPTION">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="TERMINALID" />
        <xs:element ref="SECURECARDMERCHANTREF" minOccurs="0"/>
        <xs:element ref="CARDREFERENCE" minOccurs="0"/>
        <xs:element ref="DATETIME" />
        <xs:element ref="NAME" minOccurs="0" />
        <xs:element ref="DESCRIPTION" minOccurs="0" />
        <xs:element ref="LENGTH" minOccurs="0" />
        <xs:element ref="SKIPPERIODCOUNT" minOccurs="0" />
        <xs:element ref="RECURRINGAMOUNT" minOccurs="0" />
        <xs:element ref="STARTDATE" minOccurs="0" />
        <xs:element ref="ENDDATE" minOccurs="0" />
        <xs:element ref="EDCCDECISION" minOccurs="0" />
        <xs:element ref="NOTIFICATIONLANGUAGE" minOccurs="0" />
        <xs:element ref="HASH" />
        <xs:element ref="CUSTOMFIELD" minOccurs="0" maxOccurs="30"/>
        <xs:element ref="LEVEL_2_DATA" minOccurs="0" />
        <xs:element ref="LEVEL_3_DATA" minOccurs="0" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="UPDATESUBSCRIPTIONRESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="DELETESUBSCRIPTION">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="TERMINALID" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="DELETESUBSCRIPTIONRESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="CANCELSUBSCRIPTION">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="TERMINALID" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="CANCELSUBSCRIPTIONRESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="SUBSCRIPTIONREF">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="50" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="NOTIFICATIONLANGUAGE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="2" />
        <xs:maxLength value="5" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="SUBSCRIPTIONPAYMENT">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="ORDERID" />
        <xs:element ref="TERMINALID" />
        <xs:element ref="AMOUNT" />
        <xs:element ref="SUBSCRIPTIONREF"/>
        <xs:element ref="DESCRIPTION" minOccurs="0" />
        <xs:element ref="FOREIGNCURRENCYINFORMATION" minOccurs="0" />
        <xs:element ref="EMAIL" minOccurs="0" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
        <xs:element ref="CUSTOMFIELD" minOccurs="0" maxOccurs="30"/>
        <xs:element ref="CREDENTIALONFILE" minOccurs="0" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="SUBSCRIPTIONPAYMENTRESPONSE">
    <xs:complexType>
      <xs:sequence>
      	<xs:element ref="UNIQUEREF" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="RESPONSECODE" />
        <xs:element ref="RESPONSETEXT" />
        <xs:element ref="APPROVALCODE" />
        <xs:element ref="CREDENTIALONFILE" minOccurs="0" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="CARDDETAILS">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="CARDTYPE"/>
        <xs:element ref="CARDNUMBER"/>
        <xs:element ref="CARDEXPIRY"/>
        <xs:element ref="CARDHOLDERNAME" minOccurs="0"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="UNREFERENCEDREFUND">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="ORDERID" />
        <xs:element ref="TERMINALID" />
        <xs:choice minOccurs="1" maxOccurs="1">
          <xs:element ref="CARDREFERENCE" />
          <xs:element ref="CARDDETAILS" />
        </xs:choice>
        <xs:choice minOccurs="0">
          <xs:element ref="DECLINEDREFUNDUNIQUEREF" />
          <xs:element ref="DECLINEDREFUNDORDERID" />
        </xs:choice>
        <xs:element ref="CURRENCY" minOccurs="0"/>
        <xs:element ref="AMOUNT" />
        <xs:element ref="EMAIL" minOccurs="0" />
        <xs:element ref="AUTOREADY" minOccurs="0" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" ></xs:element>
        <xs:element ref="OPERATOR" />
        <xs:element ref="DESCRIPTION" minOccurs="0" />
        <xs:element ref="ADDRESS1" minOccurs="0" />
        <xs:element ref="CITY" minOccurs="0"/>
        <xs:element ref="REGION" minOccurs="0"/>
        <xs:element ref="POSTCODE" minOccurs="0" />
        <xs:element ref="COUNTRY" minOccurs="0"/>
        <xs:element ref="BILLTOFIRSTNAME" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="BILLTOLASTNAME" minOccurs="0" maxOccurs="1"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="UNREFERENCEDREFUNDRESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="RESPONSECODE" />
        <xs:element ref="RESPONSETEXT" />
        <xs:choice minOccurs="1" maxOccurs="1">
            <xs:element ref="UNIQUEREF" />
            <xs:element ref="ORDERID" />
        </xs:choice>
        <xs:element ref="DATETIME" />
        <xs:element ref="PROCESSINGTERMINAL" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="ADDITIONAL_FIELD" minOccurs="0" maxOccurs="30"/>
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <!-- VoiceID & Payment related elements -->
  <xs:element name="VOICEIDREQUEST">
      <xs:complexType>
          <xs:sequence>
              <xs:element ref="ORDERID" />
              <xs:element ref="TERMINALID" />
              <xs:element ref="DATETIME" />
              <xs:element ref="MOBILENUMBER" />
              <xs:element ref="EMAIL" />
              <xs:element ref="VOICEIDPAYMENT" minOccurs="0" />
              <xs:element ref="HASH" />
              <xs:element ref="DESCRIPTION" minOccurs="0" />
          </xs:sequence>
      </xs:complexType>
  </xs:element>

  <xs:element name="VOICEIDRESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="RESPONSECODE" />
        <xs:element ref="RESPONSETEXT" />
        <xs:element ref="ORDERID" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="VOICEIDPAYMENT">
      <xs:complexType>
          <xs:sequence>
              <xs:element ref="AMOUNT" />
              <xs:element ref="CURRENCY" />
          </xs:sequence>
      </xs:complexType>
  </xs:element>

    <xs:element name="FXCURRENCY">
        <xs:simpleType>
            <xs:restriction base="xs:string">
                <xs:minLength value="3"/>
                <xs:maxLength value="3"/>
            </xs:restriction>
        </xs:simpleType>
    </xs:element>

    <xs:element name="GETFXCURRENCYRATE">
        <xs:complexType>
            <xs:sequence>
                <!--Terminal ID-->
                <xs:element ref="TERMINALID"/>
                <!--Currency-->
                <xs:element ref="FXCURRENCY"/>
                <!--Amount in fxCurrency-->
                <xs:element ref="BASEAMOUNT" minOccurs="0"/>
                <!--Current Time-->
                <xs:element ref="DATETIME"/>

                <xs:element ref="HASH"/>
            </xs:sequence>
        </xs:complexType>
    </xs:element>

    <xs:element name="FXCURRENCYRATERESPONSE">
        <xs:complexType>
            <xs:sequence>
                <!--Terminal currency-->
                <xs:element ref="TERMINALCURRENCY"/>
                <!--Gets from request-->
                <xs:element ref="FXCURRENCY"/>
                <!--Rate-->
                <xs:element ref="CONVERSIONRATE"/>
                <!--Result amount-->
                <xs:element ref="FOREIGNAMOUNT" minOccurs="0"/>
                <!--Current server time-->
                <xs:element ref="DATETIME"/>

                <xs:element ref="HASH"/>
            </xs:sequence>
        </xs:complexType>
    </xs:element>

    <xs:element name="FROMSTATUS">
        <xs:simpleType>
            <xs:restriction base="xs:string">
                <xs:enumeration value="READY"/>
                <xs:enumeration value="PENDING"/>
                <xs:enumeration value="REFERRAL"/>
                <xs:enumeration value="REVIEW"/>
            </xs:restriction>
        </xs:simpleType>
    </xs:element>

    <xs:element name="TOSTATUS">
        <xs:simpleType>
            <xs:restriction base="xs:string">
                <xs:enumeration value="READY"/>
                <xs:enumeration value="PENDING"/>
                <xs:enumeration value="DECLINED"/>
            </xs:restriction>
        </xs:simpleType>
    </xs:element>

    <xs:element name="TRANSACTIONUPDATE">
        <xs:complexType>
            <xs:sequence>
                <xs:element ref="UNIQUEREF"/>
                <xs:element ref="TERMINALID"/>
                <xs:element ref="OPERATOR"/>
                <xs:element ref="FROMSTATUS"/>
                <xs:element ref="TOSTATUS"/>
                <xs:element ref="APPROVALCODE" minOccurs="0"/>
                <xs:element ref="DATETIME"/>
                <xs:element ref="HASH"/>
            </xs:sequence>
        </xs:complexType>
    </xs:element>

    <xs:element name="TRANSACTIONUPDATERESPONSE">
        <xs:complexType>
            <xs:sequence>
                <xs:element ref="RESPONSECODE" />
                <xs:element ref="RESPONSETEXT" />
                <xs:element ref="UNIQUEREF" />
		<xs:element ref="TERMINALID"/>
                <xs:element ref="DATETIME" />
                <xs:element ref="HASH" />
            </xs:sequence>
        </xs:complexType>
    </xs:element>

  <xs:element name="UPDATE_TRANSACTION_ENHANCED_DATA">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="TERMINALID" />
        <xs:element ref="UNIQUEREF" />
        <xs:element ref="OPERATOR" />
        <xs:element ref="LEVEL_2_DATA" minOccurs="0" maxOccurs="1" />
        <xs:element ref="LEVEL_3_DATA" minOccurs="0" maxOccurs="1" />
        <xs:element ref="ENHANCED_DATA_TEMPLATE" minOccurs="0" maxOccurs="1" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="UPDATE_TRANSACTION_ENHANCED_DATA_RESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="TERMINALID" />
        <xs:element ref="UNIQUEREF" />
        <xs:element ref="LEVEL_2_DATA" minOccurs="0" maxOccurs="1" />
        <xs:element ref="LEVEL_3_DATA" minOccurs="0" maxOccurs="1" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="PROCESSINGTERMINAL">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="50" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  
  <xs:element name="ACH_ACCOUNT">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="17" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="ACH_ACCOUNT_TYPE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:enumeration value="CHECKING"/>
        <xs:enumeration value="SAVINGS"/>
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
    
  <xs:element name="ACH_FIRST_NAME">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="100" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="ACH_LAST_NAME">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="100" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="ACH_ADDRESS1">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:maxLength value="200" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="ACH_ADDRESS2">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:maxLength value="200" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="ACH_CITY">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:maxLength value="50" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="ACH_STATE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:maxLength value="2" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="ACH_ZIP">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:maxLength value="10" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="ACH_PHONE_NUMBER">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:maxLength value="10" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="ACHREFERENCE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="0" />
        <xs:maxLength value="17" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="ACH_SECURE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="1" />
        <xs:enumeration value="Y" />
        <xs:enumeration value="N" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="ACH_SEC_CODE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:enumeration value="WEB" />
        <xs:enumeration value="TEL" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="ACH_TERMINALID">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="10" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="ACH_CHECK_NUMBER">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="15" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="ACH_NOTIFICATION_URL">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1" />
        <xs:maxLength value="1024" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="PERMITTEDTERMINALS">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="TERMINALID" minOccurs="0" maxOccurs="unbounded"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  
  <xs:element name="PERMITTEDTERMINALSREQUIRED">
	<xs:simpleType>
		<xs:restriction base="xs:string">
			<xs:minLength value="1" />
			<xs:maxLength value="1" />
			<xs:enumeration value="Y" />
			<xs:enumeration value="N" />
		</xs:restriction>
	</xs:simpleType>
 </xs:element>

  <xs:element name="ACHREINITIATION">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="UNIQUEREF" />
        <xs:element ref="TERMINALID" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="ACHREINITIATIONRESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="RESPONSECODE" />
        <xs:element ref="RESPONSETEXT" />
        <xs:element ref="UNIQUEREF" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="ACHSECUREREGISTRATION">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="TERMINALID" />
        <xs:element ref="DATETIME" />
        <xs:element ref="ACCOUNT_TYPE" />
        <xs:element ref="ACCOUNT_NUMBER" />
        <xs:element ref="ROUTING_NUMBER" />
        <xs:element ref="ACCOUNT_NAME" />
        <xs:element ref="ADDRESS1" minOccurs="0" />
        <xs:element ref="ADDRESS2" minOccurs="0" />
        <xs:element ref="CITY" minOccurs="0"/>
        <xs:element ref="REGION" minOccurs="0"/>
        <xs:element ref="POSTCODE" minOccurs="0" />
        <xs:element ref="COUNTRY" minOccurs="0"/>
        <xs:element ref="PHONE" minOccurs="0"/>
        <xs:element ref="IPADDRESS" minOccurs="0"/>
        <xs:element ref="EMAIL" minOccurs="0" />
        <xs:element ref="DL_STATE" minOccurs="0" />
        <xs:element ref="DL_NUMBER" minOccurs="0" />
        <xs:element ref="PERMITTEDTERMINALS" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="ACHSECUREREGISTRATIONRESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="ACHREFERENCE" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="ACHSECUREUPDATE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="TERMINALID" />
        <xs:element ref="DATETIME" />
        <xs:element ref="ACCOUNT_TYPE" minOccurs="0"/>
        <xs:element ref="ACCOUNT_NUMBER" minOccurs="0" />
        <xs:element ref="ROUTING_NUMBER" minOccurs="0" />
        <xs:element ref="ACCOUNT_NAME" minOccurs="0" />
        <xs:element ref="ADDRESS1" minOccurs="0" />
        <xs:element ref="ADDRESS2" minOccurs="0" />
        <xs:element ref="CITY" minOccurs="0"/>
        <xs:element ref="REGION" minOccurs="0"/>
        <xs:element ref="POSTCODE" minOccurs="0" />
        <xs:element ref="COUNTRY" minOccurs="0"/>
        <xs:element ref="PHONE" minOccurs="0"/>
        <xs:element ref="IPADDRESS" minOccurs="0"/>
        <xs:element ref="EMAIL" minOccurs="0" />        
        <xs:element ref="DL_STATE" minOccurs="0" />
        <xs:element ref="DL_NUMBER" minOccurs="0" />
        <xs:element ref="PERMITTEDTERMINALS" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="ACHSECUREUPDATERESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="ACHREFERENCE" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

<xs:element name="ACHSECUREREMOVAL">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="ACHREFERENCE"/>
        <xs:element ref="TERMINALID" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="ACHSECUREREMOVALRESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF"/>
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="ACHSECURESEARCH">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="TERMINALID" />
        <xs:element ref="PERMITTEDTERMINALSREQUIRED" minOccurs="0" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="ACHSECURESEARCHRESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="ACHREFERENCE" />
        <xs:element ref="ACCOUNT_NAME" />
        <xs:element ref="PERMITTEDTERMINALS" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>


  <xs:element name="ADD_ACH_SUBSCRIPTION">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="TERMINALID" />
        <xs:element ref="STOREDSUBSCRIPTIONREF" minOccurs="0"/>
        <xs:element ref="SECUREACHACCOUNTMERCHANTREF" minOccurs="0"/>
        <xs:element ref="ACHREFERENCE" minOccurs="0"/>
        <xs:element ref="SEC_CODE"/>
        <xs:element ref="DATETIME" />
        <xs:element ref="RECURRINGAMOUNT" minOccurs="0" />
        <xs:element ref="INITIALAMOUNT" minOccurs="0"/>
        <xs:element ref="STARTDATE" />
        <xs:element ref="ENDDATE" minOccurs="0" />
        <xs:element ref="NEWSTOREDSUBSCRIPTIONINFO" minOccurs="0" />
        <xs:element ref="NOTIFICATIONLANGUAGE" minOccurs="0" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="ADD_ACH_SUBSCRIPTION_RESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="UPDATE_ACH_SUBSCRIPTION">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="TERMINALID" />
        <xs:element ref="SECUREACHACCOUNTMERCHANTREF" minOccurs="0"/>
        <xs:element ref="ACHREFERENCE" minOccurs="0"/>
        <xs:element ref="SEC_CODE" minOccurs="0" />
        <xs:element ref="DATETIME" />
        <xs:element ref="NAME" minOccurs="0" />
        <xs:element ref="DESCRIPTION" minOccurs="0" />
        <xs:element ref="LENGTH" minOccurs="0" />
        <xs:element ref="SKIPPERIODCOUNT" minOccurs="0" />
        <xs:element ref="RECURRINGAMOUNT" minOccurs="0" />
        <xs:element ref="STARTDATE" minOccurs="0" />
        <xs:element ref="ENDDATE" minOccurs="0" />
        <xs:element ref="NOTIFICATIONLANGUAGE" minOccurs="0" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="UPDATE_ACH_SUBSCRIPTION_RESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  
  <xs:element name="ACH_SUBSCRIPTION_PAYMENT">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="ORDERID" />
        <xs:element ref="TERMINALID" />
        <xs:element ref="AMOUNT" />
        <xs:element ref="SUBSCRIPTIONREF"/>
        <xs:element ref="SEC_CODE"/>
        <xs:element ref="CHECK_NUMBER" minOccurs="0"/>
        <xs:element ref="DESCRIPTION" minOccurs="0" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="ACH_SUBSCRIPTION_PAYMENT_RESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="UNIQUEREF" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="RESPONSECODE" />
        <xs:element ref="RESPONSETEXT" />
        <xs:element ref="APPROVALCODE" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="TERMINAL_CONFIGURATION">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="TERMINALID" minOccurs="1" maxOccurs="1"/>
        <xs:element name="CUSTOM_FIELD_LANGUAGE" minOccurs="0" maxOccurs="1">
         <xs:simpleType>
            <xs:restriction base="xs:string">
            <xs:minLength value="2"/>
            <xs:maxLength value="5"/>
            </xs:restriction>
          </xs:simpleType>
        </xs:element>
        <xs:element ref="DATETIME" minOccurs="1" maxOccurs="1"/>
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="API_ADDRESS_MODE">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:enumeration value="EXACT" />
        <xs:enumeration value="POSTAL" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="TXN_DATA_LEVEL">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:enumeration value="STANDARD" />
        <xs:enumeration value="LEVEL_II" />
        <xs:enumeration value="LEVEL_III" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="CUSTOM_FIELDS">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="CUSTOM_FIELD" minOccurs="0" maxOccurs="unbounded">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="NAME" type="xs:string" minOccurs="1" maxOccurs="1"/>
              <xs:element name="DISPLAY_NAME" type="xs:string" minOccurs="1" maxOccurs="1"/>
              <xs:element name="DISPLAY_ORDER" type="xs:int" minOccurs="1" maxOccurs="1"/>
              <xs:element name="TYPE" minOccurs="1" maxOccurs="1">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:enumeration value="STRING"/>
                    <xs:enumeration value="NUMERIC"/>
                    <xs:enumeration value="BOOLEAN"/>
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="PAYMENT_PAGE" type="xs:boolean" minOccurs="1" maxOccurs="1"/>
              <xs:element name="SUBSCRIPTION" type="xs:boolean" minOccurs="0" maxOccurs="1"/>
              <xs:element name="MANDATORY" type="xs:boolean" minOccurs="1" maxOccurs="1"/>
              <xs:element name="SECURE_CARD_ONLY" type="xs:boolean" minOccurs="0" maxOccurs="1"/>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="ENABLED" type="xs:boolean"/>

  <xs:element name="COMPULSORY" type="xs:boolean"/>

  <xs:element name="TERMINAL_CONFIGURATION_RESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="TERMINALID" minOccurs="1" maxOccurs="1"/>
        <xs:element name="BANK_SETTINGS" minOccurs="1" maxOccurs="1">
          <xs:complexType>
            <xs:sequence>
              <xs:element ref="CURRENCY" minOccurs="0" maxOccurs="1"/>
              <xs:element name="ALLOW_MULTICURRENCY" type="xs:boolean" minOccurs="1" maxOccurs="1"/>
              <xs:element name="ALLOW_EMCP" type="xs:boolean" minOccurs="1" maxOccurs="1"/>
              <xs:element name="ALLOW_EDCC" type="xs:boolean" minOccurs="0" maxOccurs="1"/>
              <xs:element name="ALLOW_MOTO" type="xs:boolean" minOccurs="1" maxOccurs="1"/>
              <xs:element name="ALLOW_CHP" type="xs:boolean" minOccurs="0" maxOccurs="1"/>
              <xs:element name="ALLOW_INTERNET" type="xs:boolean" minOccurs="1" maxOccurs="1"/>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element name="SUPPORTED_CURRENCIES" minOccurs="0" maxOccurs="1">
        <xs:complexType>
          <xs:sequence>
            <xs:element ref="CURRENCY" minOccurs="0" maxOccurs="unbounded"/>
        </xs:sequence>
      </xs:complexType>
        </xs:element>
        <xs:element name="FEATURES" minOccurs="0" maxOccurs="1">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="SECURE_CARD_STORAGE" minOccurs="0" maxOccurs="1">
                <xs:complexType>
                  <xs:sequence>
                    <xs:element ref="ENABLED" minOccurs="0" maxOccurs="1"/>
                    <xs:element name="ALLOW_SUBSCRIPTION" type="xs:boolean" minOccurs="0" maxOccurs="1"/>
                  </xs:sequence>
                </xs:complexType>
              </xs:element>
              <xs:element name="ENHANCED_DATA" minOccurs="0" maxOccurs="1">
                <xs:complexType>
                  <xs:sequence>
                    <xs:element ref="ENABLED" minOccurs="0" maxOccurs="1"/>
                    <xs:element ref="TXN_DATA_LEVEL" minOccurs="0" maxOccurs="1"/>
                    <xs:element ref="API_ADDRESS_MODE" minOccurs="0" maxOccurs="1"/>
                  </xs:sequence>
                </xs:complexType>
              </xs:element>
              <xs:element name="SUPPORTS_APPLE_PAY" type="xs:boolean" minOccurs="0" maxOccurs="1"/>
              <xs:element name="SUPPORTS_GOOGLE_PAY" type="xs:boolean" minOccurs="0" maxOccurs="1"/>
              <xs:element name="SURCHARGE" minOccurs="0" maxOccurs="1">
                <xs:complexType>
                  <xs:sequence>
                    <xs:element ref="ENABLED" minOccurs="0" maxOccurs="1"/>
                    <xs:element name="SURCHARGE_PERCENT" type="surchargePercent" minOccurs="0" maxOccurs="1"/>
                  </xs:sequence>
                </xs:complexType>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element name="SUPPORTED_CARDTYPES" minOccurs="0" maxOccurs="1">
          <xs:complexType>
            <xs:sequence>
              <xs:element ref="CARDTYPE" minOccurs="0" maxOccurs="unbounded"/>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element name="SECURITY_FRAUD">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="SHOW_CVV" type="xs:boolean" minOccurs="1" maxOccurs="1"/>
              <xs:element name="AVS">
                <xs:complexType>
                  <xs:sequence>
                    <xs:element ref="ENABLED" minOccurs="1" maxOccurs="1"/>
                    <xs:element ref="COMPULSORY" minOccurs="1" maxOccurs="1"/>
                    <xs:element ref="API_ADDRESS_MODE" minOccurs="0" maxOccurs="1"/>
                  </xs:sequence>
                </xs:complexType>
              </xs:element>
              <xs:element name="ENABLE_3DS" type="xs:boolean" minOccurs="0" maxOccurs="1"/>
              <xs:element name="ALLOW_MAX_MIND" type="xs:boolean" minOccurs="0" maxOccurs="1"/>
              <xs:element name="SENTINEL_DEFEND" minOccurs="0" maxOccurs="1">
                <xs:complexType>
                  <xs:sequence>
                    <xs:element ref="ENABLED" minOccurs="0" maxOccurs="1"/>
                    <xs:element name="ORGANIZATION_ID" minOccurs="0" maxOccurs="1">
                      <xs:simpleType>
                        <xs:restriction base="xs:string">
                        <xs:maxLength value="32"/>
                        </xs:restriction>
                      </xs:simpleType>
                    </xs:element>
                    <xs:element ref="FRAUDREVIEWSESSIONID" minOccurs="0" maxOccurs="1"/>
                  </xs:sequence>
                </xs:complexType>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element name="INTEGRATION" minOccurs="0" maxOccurs="1">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="ENABLE_BACKGROUND_VALIDATION" type="xs:boolean" minOccurs="0" maxOccurs="1"/>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element name="ALLOW_ACH_JH" type="xs:boolean" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="CUSTOM_FIELDS" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="DATETIME" minOccurs="1" maxOccurs="1"/>
        <xs:element ref="HASH" minOccurs="1" maxOccurs="1"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="CREATE_PAYMENT_LINK">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="TERMINALID"/>
        <xs:element ref="ORDERID" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="CURRENCY"/>
        <xs:element name="SUBTOTAL" minOccurs="0">
          <xs:simpleType>
            <xs:restriction base="xs:decimal">
              <xs:minInclusive value="0.001"/>
              <xs:totalDigits value="13"/>
            </xs:restriction>
          </xs:simpleType>
        </xs:element>
        <xs:element name="DISCOUNT" minOccurs="0">
          <xs:simpleType>
            <xs:restriction base="xs:decimal">
              <xs:minInclusive value="0"/>
              <xs:maxInclusive value="100"/>
              <xs:fractionDigits value="2" />
            </xs:restriction>
          </xs:simpleType>
        </xs:element>
        <xs:element name="TAX" minOccurs="0">
          <xs:simpleType>
            <xs:restriction base="xs:decimal">
              <xs:minInclusive value="0"/>
              <xs:maxInclusive value="100"/>
              <xs:fractionDigits value="2" />
            </xs:restriction>
          </xs:simpleType>
        </xs:element>
        <xs:element name="TOTAL_DUTY_AMOUNT"
            type="defaultDecimal" minOccurs="0" />
        <xs:element name="TOTAL_FREIGHT_AMOUNT"
            type="defaultDecimal" minOccurs="0" />
        <xs:element ref="AMOUNT"/>
        <xs:element ref="DESCRIPTION" minOccurs="0" maxOccurs="1"/>
        <xs:element ref="MERCHANTREF"/>
        <xs:element name="CREATION_DATE" minOccurs="0" maxOccurs="1">
          <xs:simpleType>
            <xs:restriction base="xs:string">
              <xs:minLength value="10" />
              <xs:maxLength value="10" />
            </xs:restriction>
          </xs:simpleType>
        </xs:element>
        <xs:element name="EXPIRATION_DATE">
          <xs:simpleType>
            <xs:restriction base="xs:string">
              <xs:minLength value="10" />
              <xs:maxLength value="10" />
            </xs:restriction>
          </xs:simpleType>
        </xs:element>
        <xs:element ref="AUTH_TYPE" minOccurs="0"/>
        <xs:element ref="LEVEL_DATA" minOccurs="0"/>
        <xs:element ref="LEVEL_2_DATA" minOccurs="0"/>
        <xs:element name="ITEMS" minOccurs="0">
          <xs:complexType>
            <xs:sequence>
              <xs:element ref="ITEM" minOccurs="0" maxOccurs="unbounded"/>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element ref="DATETIME"/>
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <!-- Level Data
		1 = Standard
		2 = Level II
  -->
  <xs:element name="LEVEL_DATA">
    <xs:simpleType>
      <xs:restriction base="xs:int">
        <xs:enumeration value="1" />
        <xs:enumeration value="2" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <!-- Auth type
       1 = Payment
       2 = Pre-Auth
 -->
  <xs:element name="AUTH_TYPE">
    <xs:simpleType>
      <xs:restriction base="xs:int">
        <xs:enumeration value="1" />
        <xs:enumeration value="2" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="PAYMENT_LINK_STATUS">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:enumeration value="OPEN" />
        <xs:enumeration value="COMPLETED" />
        <xs:enumeration value="CANCELLED" />
        <xs:enumeration value="EXPIRED" />
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <xs:element name="ITEM">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="COMMODITY_CODE" minOccurs="0">
          <xs:simpleType>
            <xs:restriction base="xs:string">
               <xs:minLength value="0" />
               <xs:maxLength value="45" />
            </xs:restriction>
          </xs:simpleType>
        </xs:element>
        <xs:element name="CODE">
          <xs:simpleType>
            <xs:restriction base="xs:string">
              <xs:minLength value="1"/>
              <xs:maxLength value="45"/>
            </xs:restriction>
          </xs:simpleType>
        </xs:element>
        <xs:element name="DESCRIPTION">
          <xs:simpleType>
            <xs:restriction base="xs:string">
              <xs:minLength value="1"/>
              <xs:maxLength value="250"/>
            </xs:restriction>
          </xs:simpleType>
        </xs:element>
        <xs:element name="QUANTITY">
          <xs:simpleType>
            <xs:restriction base="xs:decimal">
              <xs:minInclusive value="0.01"/>
              <xs:maxInclusive value="999999999.99"/>
              <xs:fractionDigits value="2" />
            </xs:restriction>
          </xs:simpleType>
        </xs:element>
        <xs:element name="UNIT_OF_MEASURE" minOccurs="0">
          <xs:simpleType>
            <xs:restriction base="xs:string">
              <xs:minLength value="0" />
              <xs:maxLength value="45"/>
            </xs:restriction>
          </xs:simpleType>
        </xs:element>
        <xs:element name="PRICE">
          <xs:simpleType>
            <xs:restriction base="xs:decimal">
              <xs:minInclusive value="0.01"/>
              <xs:totalDigits value="13"/>
            </xs:restriction>
          </xs:simpleType>
        </xs:element>
        <xs:element name="DISCOUNT_RATE" minOccurs="0">
          <xs:simpleType>
            <xs:restriction base="xs:decimal">
              <xs:minInclusive value="0"/>
              <xs:maxInclusive value="100"/>
              <xs:fractionDigits value="2" />
            </xs:restriction>
          </xs:simpleType>
        </xs:element>
        <xs:element name="TAX_RATE" minOccurs="0">
          <xs:simpleType>
            <xs:restriction base="xs:decimal">
              <xs:minInclusive value="0"/>
              <xs:maxInclusive value="100"/>
              <xs:fractionDigits value="2" />
            </xs:restriction>
          </xs:simpleType>
        </xs:element>
        <xs:element name="AMOUNT">
          <xs:simpleType>
            <xs:restriction base="xs:decimal">
              <xs:minInclusive value="0.01"/>
              <xs:totalDigits value="13"/>
            </xs:restriction>
          </xs:simpleType>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="CREATE_PAYMENT_LINK_RESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="TERMINALID"/>
        <xs:element ref="MERCHANTREF"/>
        <xs:element name="PAY_NOW_BUTTON" type="xs:string"/>
        <xs:element name="PAY_NOW_URL" type="xs:string"/>
        <xs:element ref="DATETIME"/>
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="SEND_PAYMENT_LINK_EMAIL">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="TERMINALID" />
        <xs:element ref="MERCHANTREF" />
        <xs:element name="CUSTOMER_NAME">
          <xs:simpleType>
            <xs:restriction base="xs:string">
              <xs:maxLength value="255" />
            </xs:restriction>
           </xs:simpleType>
         </xs:element>
        <xs:element name="CUSTOMER_EMAIL">
          <xs:simpleType>
            <xs:restriction base="xs:string">
              <xs:maxLength value="50" />
            </xs:restriction>
          </xs:simpleType>
        </xs:element>
        <xs:element name="EMAIL_BODY" type="xs:string" minOccurs="0"/>
        <xs:element name="LOGO_URL" minOccurs="0">
          <xs:simpleType>
            <xs:restriction base="xs:string">
              <xs:maxLength value="200" />
            </xs:restriction>
          </xs:simpleType>
        </xs:element>
        <xs:element name="FOOTER_NOTES" minOccurs="0">
          <xs:simpleType>
            <xs:restriction base="xs:string">
              <xs:maxLength value="2000" />
            </xs:restriction>
          </xs:simpleType>
        </xs:element>
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="SEND_PAYMENT_LINK_EMAIL_RESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="TERMINALID" />
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="CANCEL_PAYMENT_LINK">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="TERMINALID" />
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="CANCEL_PAYMENT_LINK_RESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="TERMINALID" />
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="GET_PAYMENT_LINK">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="TERMINALID" />
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="GET_PAYMENT_LINK_RESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="TERMINALID" />
        <xs:element ref="MERCHANTREF" />
        <xs:element ref="ORDERID" />
        <xs:element ref="AUTH_TYPE" />
        <xs:element ref="CURRENCY"/>
        <xs:element ref="AMOUNT"/>
        <xs:element ref="DESCRIPTION" minOccurs="0"/>
        <xs:element name="CREATION_DATE">
          <xs:simpleType>
            <xs:restriction base="xs:string">
              <xs:minLength value="10" />
              <xs:maxLength value="10" />
            </xs:restriction>
          </xs:simpleType>
        </xs:element>
        <xs:element name="EXPIRATION_DATE">
          <xs:simpleType>
            <xs:restriction base="xs:string">
              <xs:minLength value="10" />
              <xs:maxLength value="10" />
            </xs:restriction>
          </xs:simpleType>
        </xs:element>
        <xs:element ref="PAYMENT_LINK_STATUS" />
        <xs:element name="PAY_NOW_URL" type="xs:string"/>
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="ACCOUNT_VERIFICATION">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="TERMINALID" />
        <xs:element ref="CARDNUMBER" />
        <xs:element ref="CARDEXPIRY" />
        <xs:element ref="CARDHOLDERNAME" />
        <xs:element ref="CVV" minOccurs="0" />
        <xs:element ref="ADDRESS1" minOccurs="0" />
        <xs:element ref="ADDRESS2" minOccurs="0" />
        <xs:element ref="POSTCODE" minOccurs="0" />
        <xs:element ref="CREDENTIALONFILE" minOccurs="0" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="ACCOUNT_VERIFICATION_RESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="STATUS">
          <xs:simpleType>
            <xs:restriction base="xs:string">
              <xs:enumeration value="VERIFIED" />
              <xs:enumeration value="UNVERIFIED" />
            </xs:restriction>
          </xs:simpleType>
        </xs:element>
        <xs:element name="RESPONSE_DETAIL" minOccurs="0" />
        <xs:element ref="CREDENTIALONFILE" minOccurs="0" />
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="GET_TRANSACTION_DETAILS">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="TERMINALID" />
        <xs:choice>
          <xs:element ref="UNIQUEREF" />
          <xs:element ref="ORDERID" />
        </xs:choice>
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="GET_TRANSACTION_DETAILS_RESPONSE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="TERMINALID" />
        <xs:element ref="UNIQUEREF" />
        <xs:element ref="ORDERID" />
        <xs:element name="TRANSACTION_STATUS" type="xs:string" />
        <xs:element name="TRANSACTION_DATE">
          <xs:simpleType>
            <xs:restriction base="xs:string">
              <xs:minLength value="1" />
              <xs:maxLength value="50" />
            </xs:restriction>
          </xs:simpleType>
        </xs:element>
        <xs:element ref="OPERATOR" minOccurs="0"/>
        <xs:element name="TRANSACTION_TYPE">
          <xs:simpleType>
            <xs:restriction base="xs:string">
              <xs:enumeration value="SALE" />
              <xs:enumeration value="REFUND" />
              <xs:enumeration value="PREAUTH" />
              <xs:enumeration value="COMPLETION" />
            </xs:restriction>
          </xs:simpleType>
        </xs:element>
        <xs:element ref="CURRENCY" />
        <xs:element ref="AUTHORIZEDAMOUNT" />
        <xs:element name="ADDITIONAL_DETAILS" >
          <xs:complexType>
            <xs:sequence>
              <xs:element name="BATCH_NUMBER" type="xs:integer" minOccurs="0"/>
              <xs:element name="BULK_NUMBER" type="xs:string" minOccurs="0"/>
              <xs:element ref="PROCESSINGTERMINAL" minOccurs="0"/>
              <xs:element ref="RESPONSECODE" />
              <xs:element ref="RESPONSETEXT" />
              <xs:element ref="APPROVALCODE" />
              <xs:element ref="FOREIGNCURRENCYINFORMATION" minOccurs="0" />
              <xs:element ref="DESCRIPTION" minOccurs="0" />
              <xs:element  name="TRANSACTION_CUSTOM_FIELDS">
                <xs:complexType>
                  <xs:sequence>
                    <xs:element name="TRANSACTION_CUSTOM_FIELD" minOccurs="0" maxOccurs="unbounded">
                      <xs:complexType>
                        <xs:sequence>
                          <xs:element name="NAME" type="xs:string"/>
                          <xs:element name="VALUE" type="xs:string"/>
                        </xs:sequence>
                      </xs:complexType>
                    </xs:element>
                  </xs:sequence>
                </xs:complexType>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element ref="DATETIME" />
        <xs:element ref="HASH" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

</xs:schema>
